{"version":3,"file":"js/826.3a7abc82.js","mappings":"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","sources":["webpack://vue-project/./src/views/order/index.vue","webpack://vue-project/./src/components/OrderListItem.vue","webpack://vue-project/src/components/OrderListItem.vue","webpack://vue-project/./src/components/OrderListItem.vue?6fc7","webpack://vue-project/./src/components/OrderListItem.vue?6d3e","webpack://vue-project/src/views/order/index.vue","webpack://vue-project/./src/views/order/index.vue?a63a","webpack://vue-project/./src/views/order/index.vue?e80b","webpack://vue-project/./src/mixins/list.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('nav-bar',{attrs:{\"title\":\"我的订单\",\"border\":false}}),_c('van-tabs',{model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[_c('van-tab',{attrs:{\"name\":\"all\",\"title\":\"全部\"}}),_c('van-tab',{attrs:{\"name\":\"payment\",\"title\":\"待支付\"}}),_c('van-tab',{attrs:{\"name\":\"delivery\",\"title\":\"待发货\"}}),_c('van-tab',{attrs:{\"name\":\"received\",\"title\":\"待收货\"}}),_c('van-tab',{attrs:{\"name\":\"comment\",\"title\":\"待评价\"}})],1),(_vm.list.length > 0)?_c('div',{ref:\"listDom\",staticClass:\"list-load\",on:{\"scroll\":_vm.pageScroll}},[_c('order-list-item',{attrs:{\"list\":_vm.list},on:{\"cancelOrder\":_vm.cancelOrder}}),(_vm.finished)?_c('div',{staticClass:\"end\"},[_vm._v(\"没有更多了\")]):_vm._e()],1):_c('div',{staticClass:\"empty\"},[_c('van-empty',{attrs:{\"description\":\"暂无内容\"}})],1),_c('img',{class:{'goTop': true, 'goTop-show': _vm.isShowGoTop},attrs:{\"src\":_vm.goTopIcon,\"alt\":\"\"},on:{\"click\":_vm.goTop}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"list\"},_vm._l((_vm.list),function(item){return _c('div',{key:item.order_id,staticClass:\"item\",on:{\"click\":function($event){return _vm.$router.push(`/order/${item.order_id}`)}}},[_c('div',{staticClass:\"top\"},[_c('div',{staticClass:\"date\"},[_vm._v(_vm._s(item.create_time))]),_c('div',{staticClass:\"state\"},[_vm._v(_vm._s(item.state_text))])]),_c('div',{staticClass:\"bot\"},[_c('div',{staticClass:\"goods-box\"},_vm._l((item.goods),function(goods){return _c('div',{key:goods.goods_id,staticClass:\"goods\"},[_c('div',{staticClass:\"left\"},[_c('img',{attrs:{\"src\":goods.goods_image,\"alt\":\"\"}}),_c('div',{staticClass:\"text line2\"},[_vm._v(_vm._s(goods.goods_name))])]),_c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"text1\"},[_vm._v(\"￥\"+_vm._s(goods.goods_price))]),_c('div',{staticClass:\"text2\"},[_vm._v(\"x \"+_vm._s(goods.total_num))])])])}),0),_c('div',{staticClass:\"total\"},[_vm._v(\"共 \"+_vm._s(item.total_num)+\" 件商品，总金额￥\"+_vm._s(item.pay_price))]),_c('div',{staticClass:\"btn-box\"},[(item.state_text === '待发货')?_c('button',{staticClass:\"btn\",on:{\"click\":function($event){$event.stopPropagation();return _vm.cancelOrder(item.order_id)}}},[_vm._v(\"申请取消\")]):_vm._e(),(item.state_text === '待收货')?_c('button',{staticClass:\"btn\"},[_vm._v(\"确认收货\")]):_vm._e(),(item.state_text === '待评价')?_c('button',{staticClass:\"btn\"},[_vm._v(\"评价\")]):_vm._e(),(item.state_text === '待取消')?_c('div',{staticClass:\"text\"},[_vm._v(\"取消申请中\")]):_vm._e()])])])}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n   <div class=\"list\">\r\n      <div class=\"item\" v-for=\"item in list\" :key=\"item.order_id\" @click=\"$router.push(`/order/${item.order_id}`)\">\r\n          <div class=\"top\">\r\n          <div class=\"date\">{{ item.create_time }}</div>\r\n          <div class=\"state\">{{ item.state_text }}</div>\r\n          </div>\r\n          <div class=\"bot\">\r\n          <div class=\"goods-box\">\r\n            <div class=\"goods\" v-for=\"goods in  item.goods\" :key=\"goods.goods_id\">\r\n              <div class=\"left\">\r\n                <img :src=\"goods.goods_image\" alt=\"\">\r\n                <div class=\"text line2\">{{ goods.goods_name }}</div>\r\n              </div>\r\n              <div class=\"right\">\r\n                <div class=\"text1\">￥{{ goods.goods_price }}</div>\r\n                <div class=\"text2\">x {{ goods.total_num }}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"total\">共 {{ item.total_num }} 件商品，总金额￥{{ item.pay_price }}</div>\r\n          <div class=\"btn-box\">\r\n              <button class=\"btn\" v-if=\"item.state_text === '待发货'\" @click.stop=\"cancelOrder(item.order_id)\">申请取消</button>\r\n              <button class=\"btn\" v-if=\"item.state_text === '待收货'\">确认收货</button>\r\n              <button class=\"btn\" v-if=\"item.state_text === '待评价'\">评价</button>\r\n              <div class=\"text\" v-if=\"item.state_text === '待取消'\">取消申请中</div>\r\n          </div>\r\n          </div>\r\n      </div>\r\n   </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    list: Array\r\n  },\r\n  methods: {\r\n    cancelOrder (orderId) {\r\n      this.$dialog.confirm({\r\n        message: '确定要取消该订单吗？'\r\n      })\r\n        .then(() => {\r\n          this.$emit('cancelOrder', orderId)\r\n        })\r\n        .catch(() => {})\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.list{\r\n  background-color: @primaryBg;\r\n  padding: 53px 5px 5px;\r\n  min-height: calc(100vh - 46px);\r\n  .item{\r\n    background-color: #fff;\r\n    border-radius: 5px;\r\n    margin-bottom: 10px;\r\n    .top{\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      font-size: 14px;\r\n      border-bottom: 1px solid #f7f7f7;\r\n      padding: 10px;\r\n      .state{\r\n        color: orangered;\r\n      }\r\n    }\r\n    .bot{\r\n      padding: 0 10px 20px;\r\n      font-size: 14px;\r\n      .goods-box{\r\n        padding: 10px 0;\r\n        border-bottom: 1px solid #f7f7f7;\r\n        .goods{\r\n          display: flex;\r\n          align-items: flex-start;\r\n          justify-content: space-between;\r\n          padding: 10px 0;\r\n          .left{\r\n            display: flex;\r\n            align-items: flex-start;\r\n            justify-content: flex-start;\r\n            img{\r\n              width: 80px;\r\n              height: 80px;\r\n            }\r\n            .text{\r\n              width: 65%;\r\n              font-size: 15px;\r\n              margin-left: 10px;\r\n            }\r\n          }\r\n          .right{\r\n            color: #999;\r\n            text-align: right;\r\n            .text2{\r\n              margin-top: 5px;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .total{\r\n        text-align: right;\r\n        padding: 10px 0;\r\n      }\r\n      .btn-box{\r\n        text-align: right;\r\n        .btn{\r\n          border: 1px solid #666;\r\n          border-radius: 5px;\r\n          padding: 3px 12px;\r\n        }\r\n        .text{\r\n          color: #b9b9b9;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OrderListItem.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OrderListItem.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./OrderListItem.vue?vue&type=template&id=1d043850&scoped=true\"\nimport script from \"./OrderListItem.vue?vue&type=script&lang=js\"\nexport * from \"./OrderListItem.vue?vue&type=script&lang=js\"\nimport style0 from \"./OrderListItem.vue?vue&type=style&index=0&id=1d043850&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1d043850\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div>\r\n      <nav-bar title=\"我的订单\" :border=\"false\" ></nav-bar>\r\n      <van-tabs v-model=\"active\">\r\n        <van-tab name=\"all\" title=\"全部\"></van-tab>\r\n        <van-tab name=\"payment\" title=\"待支付\"></van-tab>\r\n        <van-tab name=\"delivery\" title=\"待发货\"></van-tab>\r\n        <van-tab name=\"received\" title=\"待收货\"></van-tab>\r\n        <van-tab name=\"comment\" title=\"待评价\"></van-tab>\r\n      </van-tabs>\r\n      <div class=\"list-load\"  @scroll=\"pageScroll\" ref=\"listDom\" v-if=\"list.length > 0\">\r\n        <order-list-item :list=\"list\"  @cancelOrder=\"cancelOrder\"></order-list-item>\r\n        <div class=\"end\" v-if=\"finished\">没有更多了</div>\r\n      </div>\r\n      <div class=\"empty\" v-else>\r\n        <van-empty description=\"暂无内容\" />\r\n      </div>\r\n      <img :src=\"goTopIcon\" alt=\"\" :class=\"{'goTop': true, 'goTop-show': isShowGoTop}\"  @click=\"goTop\">\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport OrderListItem from '@/components/OrderListItem.vue'\r\nimport List from '@/mixins/list'\r\nexport default {\r\n  name: 'OrderIndex',\r\n  components: {\r\n    OrderListItem\r\n  },\r\n  mixins: [List],\r\n  data () {\r\n    return {\r\n      active: this.$route.query.dataType || 'all',\r\n      list: [],\r\n      page: 1,\r\n      pageSize: 15,\r\n      pageTotal: 1,\r\n      scroll: 0 // 记录浏览位置\r\n    }\r\n  },\r\n  activated () {\r\n    if (!this.$route.meta.canKeep) {\r\n      // 在这里发送请求，刷新数据\r\n      if (this.active === this.$route.query.dataType) {\r\n        this.refresh()\r\n        this.getList()\r\n      } else {\r\n        this.active = this.$route.query.dataType\r\n      }\r\n      return\r\n    }\r\n    this.$refs.listDom.scrollTop = this.scroll\r\n  },\r\n  watch: {\r\n    active () {\r\n      this.refresh()\r\n      this.getList()\r\n    }\r\n  },\r\n  methods: {\r\n    async getList () {\r\n      const { data: { list } } = await this.$api.order.getOrderList(this.active, this.page)\r\n      const newList = list.data.map(item => {\r\n        item.total_num = item.goods.reduce((sum, i) => sum + i.total_num, 0)\r\n        return item\r\n      })\r\n      const currentList = this.list\r\n      this.list = currentList.concat(newList)\r\n      this.pageTotal = Math.ceil(list.total / this.pageSize)\r\n      if (this.pageTotal === 1) {\r\n        this.finished = true\r\n      }\r\n    },\r\n    async cancelOrder (orderId) {\r\n      await this.$api.order.cancelOrder(orderId)\r\n      this.refresh()\r\n      this.getList().then(() => {\r\n        this.$toast.success('订单取消成功')\r\n      })\r\n    }\r\n  },\r\n  // 进入页面前执行的操作\r\n  beforeRouteEnter (to, from, next) {\r\n    if (from.name === 'OrderDetail' && !to.query.update) {\r\n      to.meta.canKeep = true\r\n    } else {\r\n      to.meta.canKeep = false\r\n    }\r\n    next()\r\n  },\r\n  // 离开页面执行操作\r\n  beforeRouteLeave (to, from, next) {\r\n    if (this.list.length > 0) {\r\n      this.scroll = this.$refs.listDom.scrollTop || 0\r\n    }\r\n    next()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n/deep/ .van-tabs--line .van-tabs__wrap{\r\n  border-bottom: 1px solid #f0efef;\r\n  width: 100%;\r\n  position: fixed;\r\n  top: 46px;\r\n  left: 0;\r\n  z-index: 10;\r\n}\r\n.list-load{\r\n  height: calc(100vh - 46px);\r\n  overflow-y: scroll;\r\n  background-color: @primaryBg;\r\n}\r\n.empty{\r\n  padding-top: 43px;\r\n  .van-empty{\r\n    height: calc(100vh - 200px);\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=3f66f8cf&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=3f66f8cf&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3f66f8cf\",\n  null\n  \n)\n\nexport default component.exports","import goTopIcon from '@/assets/images/mescroll-totop.png'\r\nexport default {\r\n  data () {\r\n    return {\r\n      finished: false,\r\n      goTopIcon,\r\n      isShowGoTop: false\r\n    }\r\n  },\r\n  methods: {\r\n    pageScroll (e) {\r\n      // 滑动条滚动时，距离顶部距离\r\n      const scrollTop = e.target.scrollTop\r\n      // 可视区高度\r\n      const windowHeight = e.target.clientHeight\r\n      // 滑动条总高度\r\n      const scrollHeight = e.target.scrollHeight\r\n      // 是否显示返回顶部按钮\r\n      if (scrollTop >= windowHeight * 2) {\r\n        this.isShowGoTop = true\r\n      } else {\r\n        this.isShowGoTop = false\r\n      }\r\n      // 滑动条到达底部的条件\r\n      if (scrollTop + windowHeight === scrollHeight) {\r\n        if (this.page < this.pageTotal) {\r\n          this.page++\r\n          this.getList()\r\n        } else {\r\n          this.finished = true\r\n        }\r\n      }\r\n    },\r\n    refresh () {\r\n      this.page = 1\r\n      this.list = []\r\n      this.finished = false\r\n      this.isShowGoTop = false\r\n      if (this.$refs.listDom) {\r\n        this.$refs.listDom.scrollTop = 0\r\n      }\r\n    },\r\n    goTop () {\r\n      let scrollTop = this.$refs.listDom.scrollTop\r\n      if (scrollTop > 0) {\r\n        const speed = 50\r\n        const time = Math.floor(200 / (scrollTop / speed))\r\n        const t = setInterval(() => {\r\n          if (scrollTop > 0) {\r\n            scrollTop -= speed\r\n            this.$refs.listDom.scrollTop = scrollTop\r\n            return\r\n          }\r\n          clearInterval(t)\r\n        }, time)\r\n      }\r\n    }\r\n  }\r\n}\r\n"],"names":["render","_vm","this","_c","_self","attrs","model","value","active","callback","$$v","expression","list","length","ref","staticClass","on","pageScroll","cancelOrder","finished","_v","_e","class","isShowGoTop","goTopIcon","goTop","staticRenderFns","_l","item","key","order_id","$event","$router","push","_s","create_time","state_text","goods","goods_id","goods_image","goods_name","goods_price","total_num","pay_price","stopPropagation","props","Array","methods","orderId","$dialog","confirm","message","then","$emit","catch","component","name","components","OrderListItem","mixins","List","data","$route","query","dataType","page","pageSize","pageTotal","scroll","activated","meta","canKeep","$refs","listDom","scrollTop","refresh","getList","watch","$api","order","getOrderList","newList","map","reduce","sum","i","currentList","concat","Math","ceil","total","$toast","success","beforeRouteEnter","to","from","next","update","beforeRouteLeave","e","target","windowHeight","clientHeight","scrollHeight","speed","time","floor","t","setInterval","clearInterval"],"sourceRoot":""}