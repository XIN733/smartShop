"use strict";(self["webpackChunkvue_project"]=self["webpackChunkvue_project"]||[]).push([[896],{7357:function(t,o,e){e.d(o,{Z:function(){return a}});var i=function(){var t=this,o=t._self._c;return o("div",{staticClass:"coupon-item",on:{click:function(o){return t.couponClick({price:t.coupon.reduce_price,id:t.coupon.user_coupon_id})}}},[o("div",{class:{"coupon-wrapper":!0,"color-gray":t.coupon.is_receive||"已使用"===t.coupon.state.text,"color-blue":t.index%2!==0&&!t.coupon.is_receive&&"已使用"!==t.coupon.state.text}},[o("div",{staticClass:"coupon-type"},[t._v("满减券")]),o("div",{staticClass:"left"},[o("div",{staticClass:"price-box"},[o("span",[t._v("￥")]),o("span",{staticClass:"price"},[t._v(t._s(t.coupon.reduce_price))])]),o("div",{staticClass:"text"},[t._v("满"+t._s(t.coupon.min_price)+"元可用")])]),o("div",{staticClass:"split-line"}),o("div",{staticClass:"right"},[o("div",{staticClass:"top"},[t._v(t._s(t.coupon.name))]),o("div",{staticClass:"bot"},["coupon1"===t.type?o("div",{staticClass:"l"},[t._v("领取"+t._s(t.coupon.expire_day)+"天内有效")]):t._e(),"coupon2"===t.type||"coupon3"===t.type?o("div",{staticClass:"l"},[t._v(t._s(t.coupon.start_time+"~"+t.coupon.end_time))]):t._e(),o("div",{staticClass:"r"},["coupon1"!==t.type||t.coupon.is_receive?t._e():o("button",{staticClass:"btn",on:{click:function(o){return t.receiveCoupon(t.coupon.coupon_id)}}},[t._v("立即领取")]),"coupon1"===t.type&&t.coupon.is_receive?o("div",{staticClass:"text"},[t._v("已领取")]):t._e(),"coupon2"===t.type?o("div",{staticClass:"text"},[t._v(t._s(t.coupon.state.text))]):t._e()])])])])])},s=[],c={props:{coupon:Object,index:Number,type:String},methods:{receiveCoupon(t){this.$emit("receiveCoupon",t)},couponClick(t){this.$emit("couponClick",t)}}},n=c,u=e(3736),p=(0,u.Z)(n,i,s,!1,null,"2553d7a3",null),a=p.exports},896:function(t,o,e){e.r(o),e.d(o,{default:function(){return r}});var i=function(){var t=this,o=t._self._c;return o("div",{staticClass:"container"},[o("nav-bar",{attrs:{title:"领券中心",border:!1}}),t.couponList.length>0?o("div",{staticClass:"list"},t._l(t.couponList,(function(e,i){return o("coupon-item",{key:e.coupon_id,attrs:{coupon:e,index:i,type:"coupon1"},on:{receiveCoupon:t.receiveCoupon}})})),1):t._e()],1)},s=[],c=e(7357),n={name:"CouponIndex",components:{CouponItem:c.Z},data(){return{couponList:[]}},created(){this.getCouponList()},methods:{async getCouponList(){const{data:t}=await this.$api.coupon.getCouponList();this.couponList=t.list},async receiveCoupon(t){await this.$api.coupon.receiveCoupon(t),this.$toast.success("领取成功")}}},u=n,p=e(3736),a=(0,p.Z)(u,i,s,!1,null,"3dffa8e8",null),r=a.exports}}]);
//# sourceMappingURL=896.bd09609b.js.map