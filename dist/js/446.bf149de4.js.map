{"version":3,"file":"js/446.bf149de4.js","mappings":"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","sources":["webpack://vue-project/./src/views/search/list.vue","webpack://vue-project/src/views/search/list.vue","webpack://vue-project/./src/views/search/list.vue?1b1a","webpack://vue-project/./src/views/search/list.vue?7b4f"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"box\"},[_c('nav-bar',{attrs:{\"title\":\"商品列表\",\"border\":false}}),_c('div',{staticClass:\"head-box\"},[_c('div',{staticClass:\"search-box\"},[_c('van-search',{attrs:{\"value\":_vm.goodsName || '搜索商品',\"placeholder\":\"请输入您搜索的商品\"},on:{\"click\":function($event){return _vm.$router.replace('/search')}}}),_c('van-icon',{attrs:{\"name\":\"apps-o\",\"size\":\"25\"},on:{\"click\":function($event){return _vm.$router.replace('/category')}}})],1),_c('van-row',{staticClass:\"menu-box\"},[_c('van-col',{class:{ 'menu': true,'active' : _vm.sortType === 'all' },attrs:{\"span\":\"8\"},on:{\"click\":function($event){return _vm.menuClick('all')}}},[_c('span',[_vm._v(\"综合\")])]),_c('van-col',{class:{ 'menu': true,'active' : _vm.sortType === 'sales' },attrs:{\"span\":\"8\"},on:{\"click\":function($event){return _vm.menuClick('sales')}}},[_c('span',[_vm._v(\"销量\")])]),_c('van-col',{class:{ 'menu': true,'active' : _vm.sortType === 'price' },attrs:{\"span\":\"8\"},on:{\"click\":function($event){return _vm.menuClick('price')}}},[_c('span',[_vm._v(\"价格\")]),_c('div',{staticClass:\"icon-box\"},[_c('van-icon',{staticClass:\"up\",attrs:{\"name\":\"play\",\"size\":\"10px\",\"color\":_vm.sortPrice===1?'#c21401':''}}),_c('van-icon',{staticClass:\"down\",attrs:{\"name\":\"play\",\"size\":\"10px\",\"color\":_vm.sortPrice===0?'#c21401':''}})],1)])],1)],1),_c('div',{staticClass:\"content\"},[(_vm.goodsList.length>0)?_c('div',{staticClass:\"goods-list\"},_vm._l((_vm.goodsList),function(item){return _c('GoodsItem',{key:item.goods_id,attrs:{\"goods\":item}})}),1):_c('van-empty',{attrs:{\"image\":\"search\",\"description\":\"没有找到相关商品\"}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"box\">\r\n      <nav-bar title=\"商品列表\" :border=\"false\"></nav-bar>\r\n      <div class=\"head-box\">\r\n        <div class=\"search-box\">\r\n          <van-search :value=\"goodsName || '搜索商品'\" placeholder=\"请输入您搜索的商品\" @click=\"$router.replace('/search')\" />\r\n          <van-icon name=\"apps-o\" size=\"25\" @click=\"$router.replace('/category')\" />\r\n        </div>\r\n        <van-row class=\"menu-box\">\r\n          <van-col :class=\"{ 'menu': true,'active' : sortType === 'all' }\" span=\"8\" @click=\"menuClick('all')\"><span>综合</span></van-col>\r\n          <van-col :class=\"{ 'menu': true,'active' : sortType === 'sales' }\" span=\"8\" @click=\"menuClick('sales')\"><span>销量</span></van-col>\r\n          <van-col :class=\"{ 'menu': true,'active' : sortType === 'price' }\"  span=\"8\" @click=\"menuClick('price')\">\r\n            <span>价格</span>\r\n            <div class=\"icon-box\">\r\n              <van-icon name=\"play\" size=\"10px\" :color=\"sortPrice===1?'#c21401':''\" class=\"up\" />\r\n              <van-icon name=\"play\" size=\"10px\" :color=\"sortPrice===0?'#c21401':''\" class=\"down\" />\r\n            </div>\r\n          </van-col>\r\n        </van-row>\r\n      </div>\r\n      <div class=\"content\">\r\n        <div class=\"goods-list\" v-if=\"goodsList.length>0\">\r\n          <GoodsItem :goods=\"item\" v-for=\"item in goodsList\" :key=\"item.goods_id\"></GoodsItem>\r\n        </div>\r\n        <van-empty  image=\"search\" description=\"没有找到相关商品\" v-else />\r\n      </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport GoodsItem from '@/components/GoodsItem.vue'\r\nexport default {\r\n  name: 'SearchList',\r\n  components: {\r\n    GoodsItem\r\n  },\r\n  data () {\r\n    return {\r\n      sortType: 'all',\r\n      sortPrice: null,\r\n      goodsList: [],\r\n      page: 1\r\n    }\r\n  },\r\n  computed: {\r\n    goodsName () {\r\n      return this.$route.query.goods\r\n    }\r\n  },\r\n  created () {\r\n    this.getGoodsList()\r\n  },\r\n  methods: {\r\n    async getGoodsList () {\r\n      const obj = {\r\n        sortType: this.sortType,\r\n        sortPrice: this.sortPrice,\r\n        categoryId: this.$route.query.categoryId || null,\r\n        goodsName: this.goodsName,\r\n        page: this.page\r\n      }\r\n      const { data: { list } } = await this.$api.goods.getGoodsList(obj)\r\n      if (list.data.length === 0) {\r\n        return\r\n      }\r\n      this.goodsList = list.data\r\n    },\r\n    menuClick (val) {\r\n      this.sortType = val\r\n      if (val === 'price') {\r\n        if (this.sortPrice === 1) {\r\n          this.sortPrice = 0\r\n        } else {\r\n          this.sortPrice = 1\r\n        }\r\n      } else {\r\n        this.sortPrice = null\r\n      }\r\n      this.getGoodsList()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.head-box{\r\n  position: fixed;\r\n  top: 46px;\r\n  left: 0;\r\n  width: 100%;\r\n  z-index: 5;\r\n  background-color: #fff;\r\n  .search-box{\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    .van-search{\r\n      padding: 0 0 0 10px;\r\n      flex: 1;\r\n    }\r\n    .van-icon{\r\n      padding: 0 10px;\r\n    }\r\n  }\r\n  .menu-box{\r\n    box-shadow: @primaryShadow;\r\n    .menu{\r\n      font-size: 16px;\r\n      height: 50px;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      .icon-box{\r\n        margin-left: 3px;\r\n        position: relative;\r\n        width: 10px;\r\n        height: 18px;\r\n        .up{\r\n          transform: rotate(-90deg);\r\n          position: absolute;\r\n          top: 0;\r\n          left: 0;\r\n        }\r\n        .down{\r\n          transform: rotate(90deg);\r\n          position: absolute;\r\n          bottom: 0;\r\n          left: 1px;\r\n        }\r\n      }\r\n    }\r\n    .active{\r\n      span{\r\n        color: @primaryColor;\r\n      }\r\n    }\r\n  }\r\n}\r\n.content{\r\n  padding-top: 84px;\r\n  .goods-list{\r\n    padding: 0 5px 0;\r\n    .goods{\r\n      border-bottom: 5px solid @primaryBg;\r\n      &:last-of-type{\r\n        border: 0;\r\n      }\r\n    }\r\n  }\r\n  .van-empty{\r\n    background-color: #fff;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=0a59b1bc&scoped=true\"\nimport script from \"./list.vue?vue&type=script&lang=js\"\nexport * from \"./list.vue?vue&type=script&lang=js\"\nimport style0 from \"./list.vue?vue&type=style&index=0&id=0a59b1bc&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0a59b1bc\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","goodsName","on","$event","$router","replace","class","sortType","menuClick","_v","sortPrice","goodsList","length","_l","item","key","goods_id","staticRenderFns","name","components","GoodsItem","data","page","computed","$route","query","goods","created","getGoodsList","methods","obj","categoryId","list","$api","val","component"],"sourceRoot":""}